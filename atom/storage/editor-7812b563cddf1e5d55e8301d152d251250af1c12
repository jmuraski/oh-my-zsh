{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":22,"width":2217,"height":878,"maximized":false},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts"],"buffers":[{"text":"'use strict'\n\nangular.module('commerceEverywhereApp', [\n  'ngRoute'\n  'ngResource'\n  'ngSanitize'\n  'ui.bootstrap'\n  'templates-main'\n  'ui.event'\n])\n.factory('httpInterceptor', ['$q', '$rootScope', ($q, $rootScope) ->\n  request: (config) ->\n    $rootScope.$broadcast('httpRequest') if not /^(views|partials|template)/.test(config?.url)\n    config\n  requestError: (rejection) ->\n    $rootScope.$broadcast('httpError')\n    $q.reject(rejection)\n  response: (response) ->\n    $rootScope.$broadcast('httpResponse') if not /^(views|partials|template)/.test(response?.config?.url)\n    response\n  responseError: (rejection) ->\n    $rootScope.$broadcast('httpError')\n    $q.reject(rejection)\n])\n.config([\n  '$routeProvider', '$httpProvider', '$logProvider'\n  ($routeProvider, $httpProvider, $logProvider) ->\n    $routeProvider\n      .when '/:sku',\n        templateUrl: 'views/main.html'\n        controller: 'MainCtrl'\n        resolve:\n          configLogger: ['$route', ($route) ->\n            $logProvider.debugEnabled($route.current.params.debug is 'true')\n          ]\n      .otherwise redirectTo: '/'\n\n    $httpProvider.interceptors.push('httpInterceptor')\n])","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":4},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"encoding":"utf8","filePath":"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/app.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"f2f3a50377695d14b203c86de6c59039231a3fbc","deserializer":"TextBuffer"},{"text":"'use strict'\n\nangular.module('commerceEverywhereApp')\n  .factory 'restEndpointService',\n    [ '$location', '$routeParams', '$log',\n      ($location, $routeParams, $log) ->\n\n        defaultEndpoint = '/commerceui/api'\n\n        validEndpointOverrides =\n          dev: 'b9f43074146fa553e7d17cb45b75a5d719eff8eccb22ba290ea91db04178531f8f00a4498e3c6bd02eec4b751034f2720139d2872c4d890c3abaa24bf81a1cea'\n          stg: '58c813c6e8e819289f995cee5be45f7df6c3b57703a7c6e24480735d192c797bc01af57d286fcd38f7599268bbf60bb0fa5ffd185b2a241a06806b21c8e298ff'\n          qa1: 'e7dc46b2d78690575a884c3ab29d122f6439136626f403b50398ce5b195a96d4aa4dbea7c99bb7f2aa4fccf91e3216b940196fac9d83a2f589e329172920f5cb'\n          qa2: '0b0f3b17b1eb4ac1264170a602590709aa8672b9aba0e67ba4281bcb9412b590fc35724abea024eb1a04b56860e7fc165c67b4a1c06b1aa66e8befc086d31508'\n          qa3: 'bebc3784127ed537dc054185c81bfb946796850fb5f782bd275c428a19641bf62c53b78b7160c7f44d8b176437b7069584717276587b724ca017c83ca65fabf4'\n          prd: '2b831db1b5dffe1e1c86747d7ec50c7c3d0c3b633144269b6fc58aa97c7d7c06a56cb9039b0a246940bc4a02eb8845516e005a77fef4323abce0303d7691e2f5'\n\n        isProdEnv = () ->\n          $location.host() is 'commerce-ssl.bestbuy.com' and not $routeParams.target?\n\n        {\n          getEndpoint: () ->\n            if $routeParams.env?\n              $log.debug(\"Route Params ENV: #{$routeParams.env}\")\n              if _.contains(_.values(validEndpointOverrides), CryptoJS.SHA3($routeParams.env).toString())\n                $log.debug('Route Params ENV was valid, using as endpoint')\n                $routeParams.env\n              else\n                $log.debug('Route Params ENV was NOT valid, using default endpoint')\n                defaultEndpoint\n            else\n              defaultEndpoint\n\n          getTargetBackend: () ->\n            if $routeParams.target? then \";jsessionid=#{$routeParams.target}\" else ''\n\n          isProdEnv: isProdEnv\n\n          getLinkshareMid: () ->\n            if isProdEnv() then '38606' else '24513'\n\n          getAnalyticServiceEnv: () ->\n            if isProdEnv() then 'prod' else 'dev'\n        }\n    ]\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":8},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"encoding":"utf8","filePath":"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/services/restEndpointService.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"8142f933e1610bafff2bd7fe518e07a61c330a91","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":4,"softTabs":true,"displayBuffer":{"id":5,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/app.coffee","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":8,"softTabs":true,"displayBuffer":{"id":9,"softWrapped":false,"editorWidthInChars":null,"scrollTop":39,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/services/restEndpointService.coffee","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/services/restEndpointService.coffee","focused":false,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-coffee-script","language-javascript","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/app.coffee":1422042425652,"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/services/restEndpointService.coffee":1422042435183},"metrics":{"sessionLength":146009},"tree-view":{"directoryExpansionStates":{"services":{}},"selectedPath":"/Users/jmuraski/Documents/workspace/commerceEverywhere/app/scripts/services/restEndpointService.coffee","hasFocus":true,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}